(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{253:function(e,t,n){e.exports=n(284)},260:function(e,t,n){},262:function(e,t,n){},268:function(e,t){},269:function(e,t){},277:function(e,t){},278:function(e,t){},279:function(e,t){},280:function(e,t){},284:function(e,t,n){"use strict";n.r(t);var a=n(31),r=n.n(a),o=n(229),i=n.n(o),l=(n(260),n(1)),m=n(6),c=n(10),u=n(2),s=n(9),p=n(5),h=(n(262),n(69));function d(e){var t=h.k(2*Math.PI),n=h.i([e],0,1),a=h.i([e],0,1),r=h.i([e],0,1),o=h.o([h.o([h.c(h.f(t,n)),h.l(h.f(t,n)),h.p([e])],1),h.o([h.l(h.f(t,n).mul(-1)),h.c(h.f(t,n)),h.p([e])],1),h.o([h.p([e]),h.p([e]),h.h([e])],1)],1),i=h.o([h.c(a.mul(t)).mul(h.n(r)),h.l(a.mul(t)).mul(h.n(r)),h.n(r.mul(-1).add(1))],1),l=h.d(3,3,[e]),m=i.expandDims(2).mul(2).mul(i.expandDims(1)),c=l.sub(m);return h.e(c,o).mul(-1)}var g=n(68),b=n(224),v=n(287);function f(e){var t=new g.Matrix4,n=e.rot_mat;t.set(n[0],n[1],n[2],-n[2],n[3],n[4],n[5],-n[5],n[6],n[7],n[8],-n[8],0,0,0,1);var a=new g.Vector3,o=new g.Quaternion,i=new g.Vector3;return t.decompose(a,o,i),r.a.createElement("axesHelper",{args:[e.size],position:[a.x,a.y,a.z],quaternion:[o.x,o.y,o.z,o.w]})}function w(e){for(var t=e.rot_mats,n=e.size,a=e.nums,o=[],i=0;i<a;++i)o.push(r.a.createElement(f,{key:i,rot_mat:t.slice(9*i,9*i+9),size:n}));return r.a.createElement(r.a.Fragment,null,o)}function _(){var e=function(){var e,t=!1;return e=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4)))&&(t=!0),t}()?.2:.01;return r.a.createElement("mesh",{position:[0,0,0]},r.a.createElement("sphereGeometry",{args:[1,32,16]}),r.a.createElement("meshStandardMaterial",{depthTest:!1,wireframe:!0,transparent:!0,color:16777215,opacity:e}))}var E=function(e){return r.a.createElement(b.a,null,r.a.createElement("color",{args:[0],attach:"background"}),r.a.createElement("ambientLight",null),r.a.createElement(v.a,null),r.a.createElement("perspectiveCamera",{fov:75,near:.1,far:1e3,aspect:window.innerWidth/window.innerHeight,position:[5,0,0],lookAt:[0,0,0]}),r.a.createElement(_,null),r.a.createElement(w,{rot_mats:e.rot_mats.dataSync(),nums:e.num_rots,size:.05}))},k="avro",y="spiral",x=k,S={num_rots:100},C={num_sphere_pts:100,num_xy_rots:3};function j(e){var t=Object(a.useState)(S.num_rots),n=Object(p.a)(t,2),o=n[0],i=n[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement("label",{htmlFor:"num_rots"},"Number of Rotations:"),r.a.createElement("input",{type:"text",id:"num_rots",value:o,onChange:function(e){return i(e.target.value)}}),r.a.createElement("button",{onClick:function(){e.onSettingChange(k,{num_rots:parseInt(o)})}},"Refresh"))}function z(e){var t=Object(a.useState)(C.num_sphere_pts),n=Object(p.a)(t,2),o=n[0],i=n[1],l=Object(a.useState)(C.num_xy_rots),m=Object(p.a)(l,2),c=m[0],u=m[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"num_sphere_pts"},"Number of Sphere Points:"),r.a.createElement("input",{type:"text",id:"num_sphere_pts",value:o,onChange:function(e){return i(e.target.value)}})),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"num_xy_pts"},"Number of XY Rotations:"),r.a.createElement("input",{type:"text",id:"num_xy_rots",value:c,onChange:function(e){return u(e.target.value)}}),r.a.createElement("button",{onClick:function(){e.onSettingChange(y,{num_sphere_pts:parseInt(o),num_xy_rots:parseInt(c)})}},"Refresh")))}function O(e){return e.method===k?r.a.createElement(j,{onSettingChange:e.onSettingChange}):e.method===y?r.a.createElement(z,{onSettingChange:e.onSettingChange}):void 0}function M(e){var t=Object(a.useState)(x),n=Object(p.a)(t,2),o=n[0],i=n[1];return r.a.createElement("div",{style:{color:"white",backgroundColor:"transparent",position:"absolute",top:"0px"}},r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"method-select"},"Generation Method:"),r.a.createElement("select",{id:"method-select",onChange:function(t){var n=t.target.value;i(n),n===k?e.onSettingChange(n,S):n===y&&e.onSettingChange(n,C)}},r.a.createElement("option",{value:k},"Random-Avro"),r.a.createElement("option",{value:y},"Spiral"))),r.a.createElement(O,{method:o,onSettingChange:e.onSettingChange}))}function R(){return r.a.createElement("div",{style:{color:"white",backgroundColor:"transparent",position:"absolute",bottom:"0px"}},r.a.createElement("p",null,"Reference:"),r.a.createElement("ol",null,r.a.createElement("li",null,'J Avro. "Fast Random Rotation Matrices." (1992)'),r.a.createElement("li",null,r.a.createElement("a",{href:"https://gist.github.com/zhifanzhu/a1d2a108ad6ea81b853a67d2420b01be"},"Spiral method."))))}var F=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={rot_mats:d(S.num_rots),num_rots:S.num_rots},n}return Object(s.a)(t,e),Object(m.a)(t,[{key:"onSettingChange",value:function(e,t){if(e===k){var n=d(t.num_rots);this.setState({num_rots:t.num_rots}),this.setState({rot_mats:n})}else if(e===y){var a=function(e,t){function n(e){return e.div(h.g(e,2,1,!0))}function a(e,t){var n=h.m(e,3,1),a=Object(p.a)(n,3),r=a[0],o=a[1],i=a[2],l=h.m(t,3,1),m=Object(p.a)(l,3),c=m[0],u=m[1],s=m[2],d=o.mul(s).sub(i.mul(u)),g=i.mul(c).sub(r.mul(s)),b=r.mul(u).sub(o.mul(c));return h.b([d,g,b],1)}var r,o=e;r=o>=6e5?214:o>=4e5?75:o>=11e3?27:o>=890?10:o>=177?3.33:o>=24?1.33:.33;var i=h.j(0,o),l=i.mul(2*Math.PI/1.618033988749895),m=h.a(i.add(r).mul(-2/(o-1+2*r)).add(1)),c=h.c(l).mul(h.l(m)),u=h.l(l).mul(h.l(m)),s=h.c(m),d=h.o([c,u,s],1),g=n(a(d,h.o([h.p([o]),h.h([o]),h.p([o])],1))),b=n(a(g,d)),v=h.o([b,g,d],2),f=h.j(0,t).mul(2*Math.PI/t),w=h.o([h.o([h.c(f),h.l(f),h.p([t])],1),h.o([h.l(f).mul(-1),h.c(f),h.p([t])],1),h.o([h.p([t]),h.p([t]),h.h([t])],1)],1),_=e*t;return w=w.expandDims(1).tile([1,e,1,1]).reshape([_,3,3]),(v=v.expandDims(0).tile([t,1,1,1]).reshape([_,3,3])).matMul(w)}(t.num_sphere_pts,t.num_xy_rots);this.setState({num_rots:t.num_sphere_pts*t.num_xy_rots}),this.setState({rot_mats:a})}}},{key:"render",value:function(){return r.a.createElement("div",{style:{width:window.innerWidth,height:window.innerHeight}},r.a.createElement(E,{rot_mats:this.state.rot_mats,num_rots:this.state.num_rots}),r.a.createElement(M,{onSettingChange:this.onSettingChange.bind(this)}),r.a.createElement(R,null))}}]),t}(r.a.Component);i.a.createRoot(document.getElementById("root")).render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(F,null)))}},[[253,2,1]]]);
//# sourceMappingURL=main.3e82e235.chunk.js.map